!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.adInventory=t():e.adInventory=t()}(this,()=>(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{init:()=>i});const r="undefined"!=typeof parent&&parent.document?parent.document:document,n="undefined"!=typeof parent&&(parent.kly||parent.kmklabs)||{};let o=(n.site||"").toLowerCase();"bola.com"===o&&(o="bolacom");const a=(n.platform||"").toLowerCase();function i(e,t){switch(t=t||{},e=(e||"").toLowerCase()){case"newstag":!function(e,t,r,n){const o={kapanlagi:{targetSelector:".header25-trending__list",itemSelector:"a.header25-trending__item",titleSelector:".header25-trending__item__title"},liputan6:{targetSelector:".trending--list",itemSelector:".trending--list__item",titleSelector:".trending__item__title"},fimela:{mode:"replace",desktop:{targetSelector:".tags--box",itemSelector:".tags--box--item",titleSelector:".tags--box--item__name",linkSelector:".tags--box--item__link"},mobile:{targetSelector:".selected-tags-homepage__list",itemSelector:".selected-tags-homepage--item",titleSelector:".selected-tags-homepage--item__link",linkSelector:".selected-tags-homepage--item__link"}},bolacom:{desktop:{targetSelector:".cycle-carousel-wrap",itemSelector:".tags--box--item",titleSelector:".tags--box--item__name",linkSelector:".tags--box--item__link"}},bola:{mode:"swiper",desktop:{targetSelector:".box-tag-swiper .swiper-wrapper",itemSelector:".swiper-slide",linkSelector:"a"},mobile:{targetSelector:".box-tag-swiper",itemSelector:".box-overflow-x-item",linkSelector:"a"}}};try{const a=o[t];if(!a)return console.warn("[Newstag] Unsupported site:",t);const i=e.textTag||"Newstag",l=e.landingPage||"#",c=Number.isInteger(e.position)?e.position:0;let s=0;const d=a.mode?"mobile"===r?a.mobile:a.desktop:a,m=setInterval(()=>{if("bolacom"===t){const t=n.querySelector(".cycle-carousel-wrap")||n.querySelector(".tags--box");if(!t)return++s>300&&clearInterval(m);if(e.debugPreview){if(!t.querySelector(".tag-ads")){const e=n.createElement("li");e.className="tags--box--item tag-ads",e.innerHTML=`<a href="${l}" class="tags--box--item__link" title="${i}" target="_blank">\n              <span class="tags--box--item__name">${i}</span></a>`,t.prepend(e)}return clearInterval(m)}const r=[...t.querySelectorAll(".tags--box--item.cycle-slide")];if(!r.length||r.some(e=>e.textContent.trim()===i))return;const o=t.querySelector(".cycle-slide-active");if(!o)return;const a=n.createElement("li");return a.className="tags--box--item cycle-slide tag-ads",a.innerHTML=`<a href="${l}" class="tags--box--item__link" title="${i}" target="_blank">\n          <span class="tags--box--item__name">${i}</span>\n          <i class="tags--box--item__topic-icon i-checklist"></i>\n          <i class="tags--box--item__topic-icon-green i-checklist-green"></i>\n        </a>`,t.insertBefore(a,r[Math.min(r.indexOf(o)+c,r.length)]||null),clearInterval(m)}if("swiper"===a.mode){const e=n.querySelector(d.targetSelector);if(!e||e.querySelector(".tag-ads"))return clearInterval(m);const t=e.children[c];if(!t)return;const o=n.createElement("div"),a=(d.itemSelector||d.item||"").replace(/^\./,"");return o.className=`${a} tag-ads`,o.innerHTML=`<a href="${l}" title="${i}" target="_blank">${i}</a>`,e.insertBefore(o,t),"mobile"!==r&&e.closest(".swiper-container")?.swiper?.update(),clearInterval(m)}if("replace"===a.mode){const e=n.querySelector(d.targetSelector||d.target),t=e?.querySelectorAll(d.itemSelector||d.item)[c];if(!t)return;const r=t.querySelector(d.linkSelector||d.link||"a");return r&&(r.textContent=i,r.href=l,r.target="_blank"),t.classList.add("tag-ads"),clearInterval(m)}const o=n.querySelector(a.targetSelector);if(!o)return++s>300&&clearInterval(m);const g=o.querySelectorAll(a.itemSelector)[c];if(!g||o.querySelector(".tag-ads"))return;const p=g.cloneNode(!0);p.classList.add("tag-ads");const u=p.querySelector(a.titleSelector);u&&(u.textContent=i);const f=p.querySelector(a.linkSelector||"a");f&&(f.href=l,f.target="_blank"),g.insertAdjacentElement("beforebegin",p),clearInterval(m)},100)}catch(e){console.warn("[Newstag] Error:",e)}}(t,o,a,r);break;case"skinad":!function(e,t,r){try{if(t&&"desktop"!==t)return;const{leftImage:n,rightImage:o,landingPage:a="#",imageWidth:i=300}=e;if(!n&&!o)return;const l=r.createElement("style");l.textContent=`\n      .skinad-side{position:fixed;top:0;bottom:0;display:flex;align-items:center;z-index:9999}\n      .skinad-side img{max-width:${i}px;display:block;height:100%;object-fit:cover}\n    `,r.head.appendChild(l);const c=(r.documentElement.clientWidth-(r.querySelector(".container")?.clientWidth||1e3))/2;if(n){const e=r.createElement("a");e.href=a,e.target="_blank",e.className="skinad-side",e.style.left=c-i+"px",e.innerHTML=`<img src="${n}">`,r.body.appendChild(e)}if(o){const e=r.createElement("a");e.href=a,e.target="_blank",e.className="skinad-side",e.style.right=c-i+"px",e.innerHTML=`<img src="${o}">`,r.body.appendChild(e)}}catch(e){console.warn("[SkinAd] Error:",e)}}(t,a,r);break;default:console.warn("Unknown format:",e)}}return function(){try{const e=document.currentScript||function(){const e=document.getElementsByTagName("script");return e[e.length-1]}(),t=new URL(e.src).searchParams.get("creative");t&&(console.log(`[adInventory] Auto init creative: ${t}`),i(t))}catch(e){console.warn("[adInventory] Failed to auto init creative:",e)}}(),t})());
